{"version":3,"sources":["components/SearchForm/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css","components/Buttons/Button.module.css","components/App.module.css","components/Mapper/Mapper.jsx","components/ImageGalleryItem/ImageFalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/ErrorNotification/ErrorNotification.jsx","components/Buttons/ClickMoreButton.jsx","components/SearchForm/SearchForm.jsx","components/ModalWindow/ModalWindow.jsx","services/API.jsx","components/App.jsx","index.js","components/ModalWindow/ModalWindow.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","mapper","items","map","id","smallImageLink","webformatURL","largeImageLink","largeImageURL","tags","ImageGalleryItem","item","clickImg","className","styles","onClick","role","src","alt","ImageGalleryItem_image","ImageGallery","key","fontSize","Loader","style","ErrorNotification","text","ClickMoreButton","clickMore","Button","type","SearchForm","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","onSubmit","props","this","Searchbar","SearchForm_button","SearchForm_button_label","onChange","SearchForm_input","autoComplete","placeholder","Component","ModalWindow","closeImg","code","handleCloseImg","Overlay","window","addEventListener","removeEventListener","imageID","itemImage","find","Number","Modal","KEY","getItems","query","page","axios","get","App","isLoading","error","searchQuery","pageNumber","openModal","fetchItems","API","then","data","hits","catch","finally","handleClickImage","handleClickMore","prevState","prevProps","err","Error","message","length","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.68b38324.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2dXXK\",\"SearchForm\":\"SearchBar_SearchForm__4WkOv\",\"SearchForm_button\":\"SearchBar_SearchForm_button__5JG89\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__3WnBP\",\"SearchForm_input\":\"SearchBar_SearchForm_input__2BVim\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Dg23\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__8KUbg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3crIY\"};","const mapper = items => {\n  return items.map(\n    ({\n      id,\n      webformatURL: smallImageLink,\n      largeImageURL: largeImageLink,\n      tags,\n      ...props\n    }) => ({\n      id,\n      smallImageLink,\n      largeImageLink,\n      tags,\n      ...props,\n    }),\n  );\n};\n\nexport default mapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ item: { smallImageLink, id, tags }, clickImg }) => {\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={() => clickImg(id)}\n      role=\"presentation\"\n    >\n      <img\n        id={id}\n        src={smallImageLink}\n        alt={tags}\n        className={styles.ImageGalleryItem_image}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: PropTypes.shape({\n    smallImageLink: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    tags: PropTypes.string.isRequired,\n  }).isRequired,\n  clickImg: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageFalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ items, clickImg }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {items.map(item => (\n        <ImageGalleryItem key={item.id} item={item} clickImg={clickImg} />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  clickImg: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\n\nconst styles = { fontSize: 40 };\n\nconst Loader = () => <h1 style={styles}>Loading...</h1>;\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => (\n  <h1>Whoops, something went wrong: {text}</h1>\n);\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst ClickMoreButton = ({ clickMore }) => {\n  return (\n    <button onClick={clickMore} className={styles.Button} type=\"button\">\n      More\n    </button>\n  );\n};\n\nClickMoreButton.propTypes = {\n  clickMore: PropTypes.func.isRequired,\n};\n\nexport default ClickMoreButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <div style={styles}>\n        <header className={styles.Searchbar}>\n          <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className={styles.SearchForm_button}>\n              <span className={styles.SearchForm_button_label}>Search</span>\n            </button>\n\n            <input\n              value={value}\n              onChange={this.handleChange}\n              className={styles.SearchForm_input}\n              type=\"text\"\n              autoComplete=\"off\"\n              placeholder=\"Search\"\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ModalWindow.module.css';\n\nclass ModalWindow extends Component {\n  static propTypes = {\n    items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    imageID: PropTypes.number.isRequired,\n    clickImg: PropTypes.func.isRequired,\n  };\n\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeImg);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeImg);\n  }\n\n  closeImg = e => {\n    const { clickImg } = this.props;\n    if (e.code !== 'Escape') return;\n    clickImg();\n  };\n\n  handleCloseImg = e => {\n    const { clickImg } = this.props;\n    if (e.target.className !== styles.Overlay) return;\n    clickImg();\n  };\n\n  render() {\n    const { items, imageID } = this.props;\n    const itemImage = items.find(item => item.id === Number(imageID));\n    return (\n      <div\n        onClick={this.handleCloseImg}\n        className={styles.Overlay}\n        role=\"presentation\"\n      >\n        <div className={styles.Modal}>\n          <img src={itemImage.largeImageLink} alt={itemImage.tags} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ModalWindow;\n","import axios from 'axios';\n\nconst KEY = '13615296-278f316d67a099253ce22c61a';\n\nexport const getItems = (query = '', page = 1) => {\n  return axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport const dummy = () => null;\n","import React, { Component } from 'react';\nimport mapper from './Mapper/Mapper';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Loader from './Loader/Loader';\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\nimport ClickMoreButton from './Buttons/ClickMoreButton';\nimport SearchForm from './SearchForm/SearchForm';\nimport ModalWindow from './ModalWindow/ModalWindow';\nimport * as API from '../services/API';\nimport styles from './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    items: [],\n    isLoading: false,\n    error: null,\n    searchQuery: '',\n    pageNumber: 1,\n    openModal: false,\n    imageID: '',\n  };\n\n  componentDidMount() {\n    this.fetchItems();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n    if (prevState.searchQuery !== searchQuery) {\n      this.fetchItems(searchQuery, pageNumber);\n    }\n    if (prevState.pageNumber !== pageNumber) {\n      API.getItems(searchQuery, pageNumber)\n        .then(({ data }) =>\n          this.setState(state => ({\n            items: mapper([...state.items, ...data.hits]),\n          })),\n        )\n        .catch(err => {\n          throw new Error(err);\n        })\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  }\n\n  fetchItems = (query, pageNumber) => {\n    this.setState({ isLoading: true });\n    API.getItems(query, pageNumber)\n      .then(({ data }) => {\n        this.setState({ items: mapper(data.hits) });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleSubmit = value => {\n    this.setState({\n      searchQuery: value,\n      items: [],\n      pageNumber: 1,\n      openModal: false,\n    });\n  };\n\n  handleClickImage = id => {\n    const { openModal } = this.state;\n    this.setState({ openModal: !openModal, imageID: id });\n  };\n\n  handleClickMore = () => {\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber + 1 }));\n  };\n\n  render() {\n    const { items, isLoading, error, openModal, imageID } = this.state;\n    return (\n      <div className={styles.App}>\n        <SearchForm onSubmit={this.handleSubmit} />\n        {error && <ErrorNotification text={error.message} />}\n        {isLoading && <Loader />}\n        {<ImageGallery items={items} clickImg={this.handleClickImage} />}\n        {items.length > 0 && (\n          <ClickMoreButton clickMore={this.handleClickMore} />\n        )}\n        {openModal && (\n          <ModalWindow\n            items={items}\n            imageID={imageID}\n            clickImg={this.handleClickImage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport style from './style.css';\n\nReactDOM.render(<App style={style} />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"ModalWindow_Overlay__i44vX\",\"Modal\":\"ModalWindow_Modal__3H_nF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__6oUVe\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__sx-w0\"};"],"sourceRoot":""}